<!DOCTYPE html>
<html class="dark bg-gray-900 text-slate-100">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <title>HackMe - Register</title>

        <!-- menggunakan tailwindCSS untuk mempermudah desain web -->
        <script src="https://cdn.tailwindcss.com"></script>
    </head>
    <body class="h-screen flex flex-col font-mono">
        <!-- header, berisi logo dan navbar -->
        <header class="py-4 shadow-md">
            <nav class="container mx-auto flex items-center justify-between">
                <a href="#" class="text-xl font-bold font-mono text-green-400">HackMe</a>
                <div class="font-bold">
                    <a href="#" class="hover:text-green-400 hover:underline px-4 py-2 rounded-md transition">Home</a>
                    <a href="#" class="hover:text-green-400 hover:underline px-4 py-2 rounded-md transition">About</a>
                    <a href="#" class="hover:text-green-400 hover:underline px-4 py-2 rounded-md transition">Contact</a>
                </div>
            </nav>
        </header>

        <!-- main, berisi form registrasi dan logo -->
        <main class="container mx-auto my-8 h-full">
            <div class="text-center">
                <h1 class="text-4xl font-bold font-mono text-green-400">HackMe</h1>
                <h3 class="text-xl font-bold font-mono text-green-100">
                    Learn <b class="text-green-500">Hacking</b> on Online Platform
                </h3>
            </div>

            <h3 class="text-center capitalize mt-8 font-bold">Register</h3>
            <div class="w-64 h-[1px] mx-auto bg-green-400"></div>

            <!-- form registrasi -->
            <form
                id="registrationForm"
                class="p-6 shadow-lg shadow-green-400/35 border-green-400 border mt-4 max-w-md mx-auto hover:shadow-xl hover:shadow-green-400/35 transition"
            >
                <div class="mb-6">
                    <label for="username" class="block font-bold mb-1">Username:</label>
                    <input
                        type="text"
                        id="username"
                        name="username"
                        placeholder="Enter username"
                        class="border-b-2 w-full py-1 px-2 ring-0 outline-none focus:border-b-green-400 bg-transparent"
                        required
                    />
                    <div id="usernameError" class="text-red-500 text-sm mt-1"></div>
                </div>

                <div class="mb-6">
                    <label for="email" class="block font-bold mb-1">Email:</label>
                    <input
                        type="text"
                        id="email"
                        name="email"
                        placeholder="Enter email"
                        class="border-b-2 w-full py-1 px-2 ring-0 outline-none focus:border-b-green-400 bg-transparent"
                        required
                    />
                    <div id="emailError" class="text-red-500 text-sm mt-1"></div>
                </div>

                <div class="mb-6">
                    <label for="password" class="block font-bold mb-1">Password:</label>
                    <input
                        type="password"
                        id="password"
                        name="password"
                        placeholder="Enter password"
                        class="border-b-2 w-full py-1 px-2 ring-0 outline-none focus:border-b-green-400 bg-transparent"
                        required
                    />
                    <div id="passwordError" class="text-red-500 text-sm mt-1"></div>
                </div>

                <div class="mb-6">
                    <label for="confirmPassword" class="block font-bold mb-1">Confirm Password:</label>
                    <input
                        type="password"
                        id="confirmPassword"
                        name="confirmPassword"
                        placeholder="Confirm password"
                        class="border-b-2 w-full py-1 px-2 ring-0 outline-none focus:border-b-green-400 bg-transparent"
                        required
                    />
                    <div id="confirmPasswordError" class="text-red-500 text-sm mt-1"></div>
                </div>

                <button
                    type="submit"
                    class="text-center bg-green-400/20 w-full py-2 border border-green-400 text-green-400 font-bold hover:bg-green-400 hover:text-white transition"
                >
                    Register
                </button>
            </form>
        </main>

        <footer class="py-4 mt-8 shadow-md">
            <div class="container mx-auto text-center">&copy; 2023 Programming App. All rights reserved.</div>
        </footer>

        <script>
            // Joshua Palti Sinaga
            // 122140141
            // Praktikum Pemweb RA
            // 0.1 + 0.2 = 0.30000000000000004

            // Simpan DOM berupa input ke dalam variabel
            const registrationForm = document.getElementById("registrationForm")
            const usernameInput = document.getElementById("username")
            const emailInput = document.getElementById("email")
            const passwordInput = document.getElementById("password")
            const confirmPasswordInput = document.getElementById("confirmPassword")

            // simpan DOM berupa error ke dalam variabel
            const usernameError = document.getElementById("usernameError")
            const emailError = document.getElementById("emailError")
            const passwordError = document.getElementById("passwordError")
            const confirmPasswordError = document.getElementById("confirmPasswordError")

            function validateUsername() {
                // menggunakan regex untuk validasi username (gwe informatika)
                const usernameRegex = /^[a-zA-Z0-9]{5,20}$/
                if (!usernameRegex.test(usernameInput.value)) {
                    usernameError.textContent = "Username must between 5-20 characters and contain alphanumeric cases"
                    return false
                } else {
                    usernameError.textContent = ""
                    return true
                }
            }

            function validateEmail() {
                // menggunakan regex untuk validasi email (gwe informatika) (nyari di gogole)
                const emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/
                if (!emailRegex.test(emailInput.value)) {
                    emailError.textContent = "Please enter a valid email address."
                    return false
                } else {
                    emailError.textContent = ""
                    return true
                }
            }

            function validatePassword() {
                // validasi password dengan level keamanan berdasarkan panjang passowrd
                if (passwordInput.value.length < 8) {
                    passwordError.textContent = "Password must be at least 8 characters"
                    return false
                } else if (passwordInput.value.length < 12) {
                    passwordError.textContent = "Password is medium"
                    return true
                } else {
                    passwordError.textContent = ""
                    return true
                }
            }

            function validateConfirmPassword() {
                if (confirmPasswordInput.value !== passwordInput.value) {
                    confirmPasswordError.textContent = "Password does not match"
                    return false
                } else {
                    confirmPasswordError.textContent = ""
                    return true
                }
            }

            // fungsi ini dijalankan ketika form di klik submit untuk memastikan semua input valid
            function validateForm() {
                const usernameValid = validateUsername()
                const emailValid = validateEmail()
                const passwordValid = validatePassword()
                const confirmPasswordValid = validateConfirmPassword()
                return usernameValid && emailValid && passwordValid && confirmPasswordValid
            }

            // event listener memanggil fungsi validasi ketika input diubah
            usernameInput.addEventListener("keyup", validateUsername)
            emailInput.addEventListener("change", validateEmail)
            passwordInput.addEventListener("keyup", validatePassword)
            confirmPasswordInput.addEventListener("input", validateConfirmPassword)

            // event listener untuk submit form
            registrationForm.addEventListener("submit", (event) => {
                // event prevent default untuk mencegah form merujuk ke halaman lain secara otomatis
                event.preventDefault()
                // menampilkan alert jika form valids
                if (validateForm()) {
                    alert("Registration Successful\nWelcome to HackMe")
                }
            })

            // Joshua Palti Sinaga
            // 122140141
            // Praktikum Pemweb RA
            // 0.1 + 0.2 = 0.30000000000000004
        </script>
    </body>
</html>
